# ğŸ—ºï¸ agent-contracts ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

> æœ€çµ‚æ›´æ–°: 2026-01-08

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ `agent-contracts` ã®ä»Šå¾Œã®é–‹ç™ºè¨ˆç”»ã‚’ç¤ºã—ã¾ã™ã€‚

---

## ğŸ“ ç¾åœ¨ã®çŠ¶æ…‹

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v0.2.0

| æ©Ÿèƒ½ | çŠ¶æ…‹ |
|:-----|:----:|
| NodeContract / ModularNode | âœ… å®Œäº† |
| NodeRegistry / TriggerCondition | âœ… å®Œäº† |
| GenericSupervisor (LLMãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°) | âœ… å®Œäº† |
| GraphBuilder (è‡ªå‹•ã‚°ãƒ©ãƒ•æ§‹ç¯‰) | âœ… å®Œäº† |
| StateAccessor (å‹å®‰å…¨ãªçŠ¶æ…‹ç®¡ç†) | âœ… å®Œäº† |
| AgentRuntime / StreamingRuntime | âœ… å®Œäº† |
| ContractVisualizer / Validator | âœ… å®Œäº† |
| LangSmithé€£æº | âœ… å®Œäº† |

---

## ğŸ¯ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### ãƒ•ã‚§ãƒ¼ã‚º1: å®‰å®šåŒ– (v0.2.x) - çŸ­æœŸ

> **ç›®æ¨™**: æœ¬ç•ªç’°å¢ƒã®å …ç‰¢åŒ–ã¨ä»•ä¸Šã’

| é …ç›® | å„ªå…ˆåº¦ | å·¥æ•° | èª¬æ˜ |
|:-----|:------:|:----:|:-----|
| ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ– | ğŸ”´ é«˜ | 1æ—¥ | ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯ã€ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ”¹å–„ | ğŸŸ¡ ä¸­ | 1æ—¥ | ã‚µãƒ³ãƒ—ãƒ«è¿½åŠ ã€APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹æ•´å‚™ |

#### è©³ç´°

##### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–

```python
# ç›®æ¨™: StreamingRuntimeã§ã®ãƒªãƒˆãƒ©ã‚¤å¯¾å¿œ
runtime = StreamingRuntime(
    retry_config=RetryConfig(
        max_retries=3,
        backoff_factor=2.0,
        retry_on=[LLMTimeoutError, RateLimitError],
    )
)
```

- ãƒãƒ¼ãƒ‰å®Ÿè¡Œæ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼
- LLMã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- éƒ¨åˆ†çš„ãªæˆåŠŸæ™‚ã®çŠ¶æ…‹ä¿å­˜

---

### ãƒ•ã‚§ãƒ¼ã‚º2: é«˜åº¦ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (v0.3.0) - ä¸­æœŸ

> **ç›®æ¨™**: ã‚ˆã‚Šã‚¹ãƒãƒ¼ãƒˆã§æŸ”è»Ÿãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

| é …ç›® | å„ªå…ˆåº¦ | å·¥æ•° | èª¬æ˜ |
|:-----|:------:|:----:|:-----|
| ãƒãƒ«ãƒã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ | ğŸ”´ é«˜ | 3æ—¥ | éšå±¤çš„ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãƒ„ãƒªãƒ¼ |
| å‹•çš„å„ªå…ˆåº¦ | ğŸ”´ é«˜ | 2æ—¥ | å®Ÿè¡Œæ™‚ã®å„ªå…ˆåº¦èª¿æ•´ |

#### è©³ç´°

##### ãƒãƒ«ãƒã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼

ç¾åœ¨ã¯å˜ä¸€ã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãŒãƒãƒ¼ãƒ‰ã‚’ç®¡ç†ã—ã¦ã„ã¾ã™ãŒã€è¤‡é›‘ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ã¯éšå±¤çš„ãªæ§‹é€ ãŒå¿…è¦ã§ã™ã€‚

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Root      â”‚
                    â”‚ Supervisor  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼            â–¼            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Card   â”‚  â”‚Shopping â”‚  â”‚ Support â”‚
        â”‚   Sup   â”‚  â”‚   Sup   â”‚  â”‚   Sup   â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
             â”‚            â”‚            â”‚
        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
        â”‚ Nodes   â”‚  â”‚ Nodes   â”‚  â”‚ Nodes   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**:
- ãƒ‰ãƒ¡ã‚¤ãƒ³æ¨ªæ–­ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³
- æ¨©é™ã®æ®µéšçš„å§”è­²

**APIæ¡ˆ**:

```python
from agent_contracts import HierarchicalSupervisor, SupervisorTree

tree = SupervisorTree(
    root=HierarchicalSupervisor("root", llm=llm),
    children={
        "card": GenericSupervisor("card", llm=llm),
        "shopping": GenericSupervisor("shopping", llm=llm),
    },
    routing_rules={
        "request.domain == 'card'": "card",
        "request.domain == 'shopping'": "shopping",
    },
)
```

##### å‹•çš„å„ªå…ˆåº¦

ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶ã®å„ªå…ˆåº¦ã‚’å®Ÿè¡Œæ™‚ã«èª¿æ•´ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡Œå‹•å±¥æ­´ã«åŸºã¥ãå„ªå…ˆåº¦å¤‰æ›´
- A/Bãƒ†ã‚¹ãƒˆã§ã®é‡ã¿ä»˜ã‘å¤‰æ›´
- æ™‚é–“å¸¯ã‚„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ãŸèª¿æ•´

**APIæ¡ˆ**:

```python
# é™çš„å„ªå…ˆåº¦ï¼ˆç¾åœ¨ï¼‰
TriggerCondition(
    priority=100,
    when={"request.action": "search"},
)

# å‹•çš„å„ªå…ˆåº¦ï¼ˆv0.3.0ï¼‰
TriggerCondition(
    priority=DynamicPriority(
        base=100,
        modifiers=[
            PriorityModifier(
                condition={"user.is_premium": True},
                adjustment=+50,
            ),
            PriorityModifier(
                condition={"time.is_peak_hour": True},
                adjustment=-20,
            ),
        ],
    ),
    when={"request.action": "search"},
)

# ã¾ãŸã¯é–¢æ•°ãƒ™ãƒ¼ã‚¹
TriggerCondition(
    priority=lambda state: 100 + state.get("boost", 0),
    when={"request.action": "search"},
)
```

---

### ãƒ•ã‚§ãƒ¼ã‚º3: ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ  (v0.4.0+) - é•·æœŸ

> **ç›®æ¨™**: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æˆé•·ã¨é–‹ç™ºè€…ä½“é¨“å‘ä¸Š

| é …ç›® | å„ªå…ˆåº¦ | å·¥æ•° | èª¬æ˜ |
|:-----|:------:|:----:|:-----|
| CLIãƒ„ãƒ¼ãƒ« | ğŸŸ¡ ä¸­ | 2æ—¥ | `agent-contracts init/validate/visualize` |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ğŸŸ¡ ä¸­ | 2æ—¥ | ä¸€èˆ¬çš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³é›† |
| ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ  | ğŸŸ¢ ä½ | 3æ—¥ | ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã€ãƒ•ãƒƒã‚¯ |

#### è©³ç´°

##### CLIãƒ„ãƒ¼ãƒ«

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
agent-contracts init my-agent

# ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ¤œè¨¼
agent-contracts validate ./src

# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ç”Ÿæˆ
agent-contracts visualize --output ARCHITECTURE.md
```

##### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª

```bash
# ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
agent-contracts init --template chatbot

# ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
agent-contracts init --template workflow

# ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
agent-contracts init --template interview
```

---

## ğŸ“… ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

```mermaid
gantt
    title agent-contracts ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—
    dateFormat  YYYY-MM
    section v0.2.x
    ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–    :2026-01, 1w
    ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ :2026-01, 1w
    ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ”¹å–„         :2026-01, 1w
    section v0.3.0
    ãƒãƒ«ãƒã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼    :2026-02, 2w
    å‹•çš„å„ªå…ˆåº¦              :2026-02, 1w
    section v0.4.0+
    CLIãƒ„ãƒ¼ãƒ«              :2026-03, 1w
    ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª    :2026-03, 1w
```

---

## ğŸ’¬ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¸ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯ [GitHub Issues](https://github.com/yatarousan0227/agent-contracts/issues) ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚

---

## ğŸ“ å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|:-----|:---------|
| 2026-01-08 | åˆç‰ˆä½œæˆã€‚ãƒ•ã‚§ãƒ¼ã‚º1ã€œ3ã‚’å®šç¾© |
